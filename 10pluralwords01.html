<!DOCTYPE html>
<html lang="ru" translate="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <meta name="google" content="notranslate" />
    <title>Слова во множественном числе</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
            color: #e0e0e0;
            background-color: #040507;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            min-height: 100vh;
        }
        body > *:last-child { margin-bottom: 60px; }
        .slider-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 90vw;
            max-width: 500px;
            padding: 30px;
            background-color: #040507;
            border-radius: 8px;
            position: relative;
            box-sizing: border-box;
        }
        .title-container {
            position: relative;
            margin-bottom: 26px;
            text-align: center;
            height: 60px;
        }
        #image-title {
            font-size: 1.4em;
            color: #5A6171;
            padding-top: 20px;
        }
        .checkmark-icon {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 50px;
            display: none;
        }
        .slider-view {
            width: 100%;
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            padding: 0 4px;
        }
        .field-set {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            width: 100%;
        }
        .text-field {
            width: 85%;
            max-width: 350px;
            padding: 16px 18px;
            border-radius: 6px;
            border: none;
            color: #e8e8e8;
            font-size: 1.4em;
            outline: none;
            text-align: center;
        }
        .text-field[readonly] {
            font-weight: bold;
            color: #fff;
            background-color: #0D0E0E;
        }
        .text-field:not([readonly]) {
            color: #888;
            background-color: #151A1A;
        }
        .text-field:not([readonly])::placeholder {
            color: #38454D;
        }
        .text-field:not([readonly]):focus {
            border: none;
            box-shadow: 0 0 0 3px rgba(58, 132, 67, 0.3);
        }
        .text-field.correct {
            border: none;
            background-color: rgba(76, 175, 80, 0.1);
        }
        .text-field.incorrect {
            border: none;
            background-color: rgba(244, 67, 54, 0.1);
        }
        .slider-buttons {
            display: flex;
            justify-content: center;
            width: 100%;
            margin-top: 20px;
        }
        .nav-button {
            background-color: #15151B;
            color: #e0e0e0;
            border: none;
            cursor: pointer;
            border-radius: 9999px;
            outline: none;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
            box-sizing: border-box;
            width: 75px;
            height: 75px;
            transition: opacity 0.3s ease;
        }
        .nav-button.disabled {
            opacity: 0.3;
            cursor: default;
        }
        .nav-icon { width: 30%; height: 30%; display: block; }
        .nav-icon path { stroke: #e0e0e0; }
        .home-link-container { margin-top: 4px; }
        .home-link { color: #262930; text-decoration: none; font-size: 1.1em; transition: color 0.3s ease; }
        .home-link:hover { color: #363940; text-decoration: underline; }
        @media (max-width: 720px) {
          .slider-container { max-width: 90vw; padding: 20px; }
          #image-title { font-size: 1.3em; }
          .text-field { font-size: 1.3em; }
          .nav-button { height: 68px; width: 68px; }
        }
        @media (max-width: 480px) {
          .slider-container { width: 95vw; padding: 15px; }
          .text-field { font-size: 1.2em; padding: 14px 16px; }
          .nav-button { height: 60px; width: 60px; }
          .nav-icon { width: 24%; height: 24%; }
        }
    </style>
</head>
<body>
    <div class="slider-container">
        <div class="title-container">
            <svg class="checkmark-icon" width="50" height="50" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="Анимация эллипса и галочки без зазора">
                <circle cx="50" cy="50" r="45.551" stroke="#3A8443" stroke-width="8.89794" fill="none"
                        stroke-dasharray="287" stroke-dashoffset="287" stroke-linejoin="round" stroke-linecap="round">
                    <animate attributeName="stroke-dashoffset" from="287" to="0" dur="0.6s" begin="indefinite" fill="freeze" />
                </circle>
                <path d="M28.9971 45.6246L45.2427 60.9787L73.4868 34.2849"
                      stroke="#3A8443" stroke-width="8.89794" fill="none" stroke-linecap="round" stroke-linejoin="round"
                      stroke-dasharray="70" stroke-dashoffset="70">
                    <animate attributeName="stroke-dashoffset" from="70" to="0" dur="0.4s" begin="indefinite" fill="freeze" />
                </path>
            </svg>
            <div id="image-title">Задание №1</div>
        </div>
        <div class="slider-view" id="slider-view">
            <!-- Слайд 1 -->
            <div class="field-set" data-letter="A" style="display: flex;">
                <input class="text-field" type="text" value="ГОЛУБЬ" readonly>
                <input class="text-field" type="text" placeholder="Множественное число" data-answer="Голуби">
            </div>
            <!-- Слайд 2 -->
            <div class="field-set" data-letter="B" style="display:none;">
                <input class="text-field" type="text" value="ДОМ" readonly>
                <input class="text-field" type="text" placeholder="Множественное число" data-answer="Дома">
            </div>
            <!-- Слайд 3 -->
            <div class="field-set" data-letter="V" style="display:none;">
                <input class="text-field" type="text" value="СОБАКА" readonly>
                <input class="text-field" type="text" placeholder="Множественное число" data-answer="Собаки">
            </div>
            <!-- Слайд 4 -->
            <div class="field-set" data-letter="G" style="display:none;">
                <input class="text-field" type="text" value="РУКА" readonly>
                <input class="text-field" type="text" placeholder="Множественное число" data-answer="Руки">
            </div>
            <!-- Слайд 5 -->
            <div class="field-set" data-letter="D" style="display:none;">
                <input class="text-field" type="text" value="ЛОЖКА" readonly>
                <input class="text-field" type="text" placeholder="Множественное число" data-answer="Ложки">
            </div>
            <!-- Слайд 6 -->
            <div class="field-set" data-letter="E" style="display:none;">
                <input class="text-field" type="text" value="НОСОК" readonly>
                <input class="text-field" type="text" placeholder="Множественное число" data-answer="Носки">
            </div>
            <!-- Слайд 7 -->
            <div class="field-set" data-letter="F" style="display:none;">
                <input class="text-field" type="text" value="АВТОБУС" readonly>
                <input class="text-field" type="text" placeholder="Множественное число" data-answer="Автобусы">
            </div>
            <!-- Слайд 8 -->
            <div class="field-set" data-letter="H" style="display:none;">
                <input class="text-field" type="text" value="ДЕРЕВО" readonly>
                <input class="text-field" type="text" placeholder="Множественное число" data-answer="Деревья">
            </div>
            <!-- Слайд 9 -->
            <div class="field-set" data-letter="I" style="display:none;">
                <input class="text-field" type="text" value="ЛУЖА" readonly>
                <input class="text-field" type="text" placeholder="Множественное число" data-answer="Лужи">
            </div>
            <!-- Слайд 10 -->
            <div class="field-set" data-letter="J" style="display:none;">
                <input class="text-field" type="text" value="КЛЮЧ" readonly>
                <input class="text-field" type="text" placeholder="Множественное число" data-answer="Ключи">
            </div>
            <!-- Слайд 11 -->
            <div class="field-set" data-letter="K" style="display:none;">
                <input class="text-field" type="text" value="ЯБЛОКО" readonly>
                <input class="text-field" type="text" placeholder="Множественное число" data-answer="Яблоки">
            </div>
        </div>
        <div class="slider-buttons">
            <button id="next-btn" class="nav-button next" aria-label="Следующий слайд">
                <svg class="nav-icon" width="67" height="50" viewBox="0 0 67 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M42.0001 3.33014L64.0001 25.4009L42.0001 47.3301M3.00006 25.3301H64.0001" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </div>
    </div>
    <div class="home-link-container">
        <a href="index.html" class="home-link">Вернуться к другим заданиям</a>
    </div>
    <script>
        const view = document.getElementById('slider-view');
        const slides = Array.from(view.querySelectorAll('.field-set'));
        const imageTitleElement = document.getElementById('image-title');
        const nextBtn = document.getElementById('next-btn');
        const checkmarkIcon = document.querySelector('.checkmark-icon');
        const circleAnim = document.querySelector('circle animate');
        const pathAnim = document.querySelector('path animate');
        let currentIndex = 0;
        let allDone = false;
        let currentInputField = null;

        function showSlide(index) {
            slides.forEach((el, idx) => {
                el.style.display = (idx === index) ? 'flex' : 'none';
            });
            imageTitleElement.textContent = `Задание №${index + 1}`;
            checkmarkIcon.style.display = 'none';
            // Фокусируемся на поле ввода
            currentInputField = slides[index].querySelector('.text-field:not([readonly])');
            currentInputField.focus();
        }

        function updateView() {
            showSlide(currentIndex);
        }

        function showNext() {
            if (allDone) return;
            const currentInput = slides[currentIndex].querySelector('.text-field:not([readonly])');
            if (!currentInput.classList.contains('correct')) {
                return;
            }
            currentIndex = (currentIndex + 1) % slides.length;
            updateView();
        }

        function checkAnswer(input) {
            const answer = input.getAttribute('data-answer').toLowerCase();
            const userAnswer = input.value.trim().toLowerCase();
            input.classList.remove('correct', 'incorrect');
            if (userAnswer.length > 0) {
                if (userAnswer === answer) {
                    input.classList.add('correct');
                    checkmarkIcon.style.display = 'block';
                    // Запускаем анимацию круга
                    circleAnim.beginElement();
                    // Запускаем анимацию галочки через 0.6s
                    setTimeout(() => {
                        pathAnim.beginElement();
                    }, 600);
                    const allCorrect = Array.from(document.querySelectorAll('.text-field:not([readonly])')).every(field => field.classList.contains('correct'));
                    if (allCorrect && currentIndex === slides.length - 1) {
                        allDone = true;
                        imageTitleElement.textContent = "Все задания выполнены!";
                        nextBtn.classList.add('disabled');
                    }
                } else if (!answer.startsWith(userAnswer)) {
                    input.classList.add('incorrect');
                    checkmarkIcon.style.display = 'none';
                }
            }
        }

        document.querySelectorAll('.text-field:not([readonly])').forEach(input => {
            input.addEventListener('input', () => checkAnswer(input));
        });

        nextBtn.addEventListener('click', showNext);

        document.addEventListener('keydown', (event) => {
            if ((event.key === 'ArrowRight' || event.key === 'Enter') && !allDone) {
                event.preventDefault();
                const currentInput = slides[currentIndex].querySelector('.text-field:not([readonly])');
                if (currentInput.classList.contains('correct')) {
                    showNext();
                }
                currentInput.focus();
            }
        });

        window.addEventListener('load', () => {
            updateView();
        });
    </script>
</body>
</html>
